import Foundation

enum L10n {
    static func text(_ key: String, _ language: SupportedLanguage) -> String {
        let langMap = table[language] ?? table[.en] ?? [:]
        return langMap[key] ?? key
    }

    static func day(_ index: Int, _ language: SupportedLanguage) -> String {
        switch language {
        case .ru: return "День \(index)"
        case .en: return "Day \(index)"
        case .de: return "Tag \(index)"
        }
    }

    static func allowedOverage(_ amount: String, _ language: SupportedLanguage) -> String {
        switch language {
        case .ru: return "Допустимое превышение: \(amount)"
        case .en: return "Allowed overage: \(amount)"
        case .de: return "Zulaessige Ueberschreitung: \(amount)"
        }
    }

    static func removeCategory(_ category: String, _ language: SupportedLanguage) -> String {
        switch language {
        case .ru: return "Удалить категорию \(category)"
        case .en: return "Remove category \(category)"
        case .de: return "Kategorie \(category) entfernen"
        }
    }

    static let table: [SupportedLanguage: [String: String]] = [
        .ru: [
            "tab.today": "Сегодня",
            "tab.history": "История",
            "tab.achievements": "Ачивки",
            "tab.settings": "Настройки",
            "today.spends": "Траты сегодня",
            "today.fill": "Внести траты",
            "today.paused": "Игра на паузе после достижения максимума",
            "common.restart": "Перезапустить",
            "history.title": "История",
            "history.empty": "История пуста",
            "history.empty.sub": "Дни появятся автоматически",
            "history.status.open": "Открыт",
            "history.status.filled": "Заполнен",
            "history.status.missed": "Пропущен",
            "achievements.title": "Ачивки",
            "achievements.earned": "Получено",
            "achievements.progress": "В процессе",
            "achievements.analytics.title": "Аналитика трат",
            "achievements.analytics.hint.percent": "Тапните по диаграмме, чтобы показать суммы",
            "achievements.analytics.hint.amount": "Тапните по диаграмме, чтобы показать проценты",
            "achievements.analytics.range": "Период игры",
            "achievements.analytics.empty": "Нет данных для аналитики",
            "achievements.analytics.uncategorized": "Без категории",
            "celebration.title": "Максимум достигнут",
            "celebration.prize": "Виртуальный приз получен",
            "common.close": "Закрыть",
            "common.save": "Сохранить",
            "common.cancel": "Отмена",
            "spends.title": "Траты дня",
            "spends.limit": "Лимит",
            "spends.plus5": "Можно превысить до 5%",
            "spends.add": "Добавить в список",
            "spends.update": "Обновить трату",
            "spends.section.add": "Добавить трату",
            "spends.section.edit": "Редактировать трату",
            "spends.name": "Название",
            "spends.amount": "Сумма",
            "spends.category": "Категория (можно новую)",
            "spends.cancel.edit": "Отменить редактирование",
            "spends.list": "Список",
            "spends.empty": "Пока пусто",
            "spends.empty.sub": "Добавьте хотя бы одну позицию",
            "spends.total": "Итого",
            "spends.remaining": "Осталось",
            "spends.over5": "Превышение больше 5%: сохранение недоступно",
            "settings.title": "Настройки",
            "settings.lang": "Язык",
            "settings.limits": "Лимиты",
            "settings.start": "Стартовая сумма",
            "settings.max": "Максимальная сумма",
            "settings.saveLimits": "Сохранить лимиты",
            "settings.maxBehavior": "Поведение на максимуме",
            "settings.mode": "Режим",
            "settings.reset": "Сброс и заново",
            "settings.ceiling": "Потолок",
            "settings.reset.hint": "После достижения максимума бюджет начнётся заново со стартовой суммы.",
            "settings.ceiling.hint": "Бюджет зафиксируется на максимуме и продолжит игру без роста.",
            "settings.fx": "Курс валют",
            "settings.fx.manual": "USD -> EUR",
            "settings.fx.update": "Обновить курс",
            "settings.fx.fetch": "Загрузить курс из интернета",
            "settings.fx.updated": "Курс обновлён",
            "settings.fx.failed": "Не удалось обновить курс",
            "settings.notifications": "Напоминания",
            "settings.notifications.enabled": "Включить уведомления",
            "settings.notifications.time": "Время",
            "settings.resetAll": "Сбросить",
            "settings.resetAll.hint": "Удалит весь прогресс и начнёт игру заново с текущей даты.",
            "settings.resetAll.confirm.title": "Сбросить весь прогресс?",
            "settings.resetAll.confirm.message": "Все данные игры будут удалены без возможности восстановления."
        ],
        .en: [
            "tab.today": "Today",
            "tab.history": "History",
            "tab.achievements": "Achievements",
            "tab.settings": "Settings",
            "today.spends": "Today's spends",
            "today.fill": "Add spends",
            "today.paused": "Game is paused after reaching maximum",
            "common.restart": "Restart",
            "history.title": "History",
            "history.empty": "History is empty",
            "history.empty.sub": "Days will appear automatically",
            "history.status.open": "Open",
            "history.status.filled": "Filled",
            "history.status.missed": "Missed",
            "achievements.title": "Achievements",
            "achievements.earned": "Earned",
            "achievements.progress": "In progress",
            "achievements.analytics.title": "Spend Analytics",
            "achievements.analytics.hint.percent": "Tap the chart to show amounts",
            "achievements.analytics.hint.amount": "Tap the chart to show percentages",
            "achievements.analytics.range": "Game period",
            "achievements.analytics.empty": "No data for analytics",
            "achievements.analytics.uncategorized": "Uncategorized",
            "celebration.title": "Maximum reached",
            "celebration.prize": "Virtual prize unlocked",
            "common.close": "Close",
            "common.save": "Save",
            "common.cancel": "Cancel",
            "spends.title": "Day spends",
            "spends.limit": "Limit",
            "spends.plus5": "You can exceed by up to 5%",
            "spends.add": "Add to list",
            "spends.update": "Update spend",
            "spends.section.add": "Add spend",
            "spends.section.edit": "Edit spend",
            "spends.name": "Title",
            "spends.amount": "Amount",
            "spends.category": "Category (new is allowed)",
            "spends.cancel.edit": "Cancel editing",
            "spends.list": "List",
            "spends.empty": "Nothing yet",
            "spends.empty.sub": "Add at least one item",
            "spends.total": "Total",
            "spends.remaining": "Remaining",
            "spends.over5": "Over 5%: save is unavailable",
            "settings.title": "Settings",
            "settings.lang": "Language",
            "settings.limits": "Limits",
            "settings.start": "Start amount",
            "settings.max": "Maximum amount",
            "settings.saveLimits": "Save limits",
            "settings.maxBehavior": "Behavior at maximum",
            "settings.mode": "Mode",
            "settings.reset": "Reset and restart",
            "settings.ceiling": "Ceiling",
            "settings.reset.hint": "After reaching max, the budget starts again from start amount.",
            "settings.ceiling.hint": "Budget stays at max and the game continues without growth.",
            "settings.fx": "FX rate",
            "settings.fx.manual": "USD -> EUR",
            "settings.fx.update": "Update rate",
            "settings.fx.fetch": "Fetch rate from internet",
            "settings.fx.updated": "Rate updated",
            "settings.fx.failed": "Failed to update rate",
            "settings.notifications": "Reminders",
            "settings.notifications.enabled": "Enable notifications",
            "settings.notifications.time": "Time",
            "settings.resetAll": "Reset",
            "settings.resetAll.hint": "Deletes all progress and starts again from today.",
            "settings.resetAll.confirm.title": "Reset all progress?",
            "settings.resetAll.confirm.message": "All game data will be permanently deleted."
        ],
        .de: [
            "tab.today": "Heute",
            "tab.history": "Verlauf",
            "tab.achievements": "Erfolge",
            "tab.settings": "Einstellungen",
            "today.spends": "Heutige Ausgaben",
            "today.fill": "Ausgaben hinzufuegen",
            "today.paused": "Spiel ist nach dem Maximum pausiert",
            "common.restart": "Neu starten",
            "history.title": "Verlauf",
            "history.empty": "Verlauf ist leer",
            "history.empty.sub": "Tage werden automatisch erstellt",
            "history.status.open": "Offen",
            "history.status.filled": "Ausgefuellt",
            "history.status.missed": "Verpasst",
            "achievements.title": "Erfolge",
            "achievements.earned": "Erreicht",
            "achievements.progress": "In Arbeit",
            "achievements.analytics.title": "Ausgabenanalyse",
            "achievements.analytics.hint.percent": "Diagramm antippen, um Betraege zu zeigen",
            "achievements.analytics.hint.amount": "Diagramm antippen, um Prozente zu zeigen",
            "achievements.analytics.range": "Spielzeitraum",
            "achievements.analytics.empty": "Keine Daten fuer die Analyse",
            "achievements.analytics.uncategorized": "Ohne Kategorie",
            "celebration.title": "Maximum erreicht",
            "celebration.prize": "Virtueller Preis erhalten",
            "common.close": "Schliessen",
            "common.save": "Speichern",
            "common.cancel": "Abbrechen",
            "spends.title": "Tagesausgaben",
            "spends.limit": "Limit",
            "spends.plus5": "Bis zu 5% Ueberschreitung erlaubt",
            "spends.add": "Zur Liste hinzufuegen",
            "spends.update": "Ausgabe aktualisieren",
            "spends.section.add": "Ausgabe hinzufuegen",
            "spends.section.edit": "Ausgabe bearbeiten",
            "spends.name": "Name",
            "spends.amount": "Betrag",
            "spends.category": "Kategorie (neu moeglich)",
            "spends.cancel.edit": "Bearbeitung abbrechen",
            "spends.list": "Liste",
            "spends.empty": "Noch leer",
            "spends.empty.sub": "Fuege mindestens einen Eintrag hinzu",
            "spends.total": "Summe",
            "spends.remaining": "Uebrig",
            "spends.over5": "Mehr als 5%: Speichern nicht moeglich",
            "settings.title": "Einstellungen",
            "settings.lang": "Sprache",
            "settings.limits": "Grenzwerte",
            "settings.start": "Startbetrag",
            "settings.max": "Maximalbetrag",
            "settings.saveLimits": "Grenzwerte speichern",
            "settings.maxBehavior": "Verhalten am Maximum",
            "settings.mode": "Modus",
            "settings.reset": "Zuruecksetzen und neu",
            "settings.ceiling": "Deckel",
            "settings.reset.hint": "Nach dem Maximum startet das Budget wieder beim Startwert.",
            "settings.ceiling.hint": "Das Budget bleibt beim Maximum und waechst nicht weiter.",
            "settings.fx": "Wechselkurs",
            "settings.fx.manual": "USD -> EUR",
            "settings.fx.update": "Kurs aktualisieren",
            "settings.fx.fetch": "Kurs aus dem Internet laden",
            "settings.fx.updated": "Kurs aktualisiert",
            "settings.fx.failed": "Kurs konnte nicht aktualisiert werden",
            "settings.notifications": "Erinnerungen",
            "settings.notifications.enabled": "Benachrichtigungen aktivieren",
            "settings.notifications.time": "Zeit",
            "settings.resetAll": "Zuruecksetzen",
            "settings.resetAll.hint": "Loescht den gesamten Fortschritt und startet ab heute neu.",
            "settings.resetAll.confirm.title": "Gesamten Fortschritt zuruecksetzen?",
            "settings.resetAll.confirm.message": "Alle Spieldaten werden dauerhaft geloescht."
        ]
    ]
}
